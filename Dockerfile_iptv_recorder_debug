# Start from your current production image (or directly from python:3.12-slim if you want to test minimal)
FROM ghcr.io/dcaulton/iptv-recorder:latest

# Install debugging utilities using Debian's apt
# --no-install-recommends keeps the layer small
# clean up caches at the end to minimize image size
RUN apt-get update && \
    apt-get install -y --no-install-recommends \
        curl \
        wget \
        iproute2 \
        net-tools \
        procps \
        dnsutils \
        netcat-openbsd \
        bash \
        vim-tiny && \
    rm -rf /var/lib/apt/lists/* \
           /var/cache/apt/archives/* \
           /tmp/* \
           /var/tmp/*

# Optional: make bash the default shell for better tab completion / history
SHELL ["/bin/bash", "-c"]
